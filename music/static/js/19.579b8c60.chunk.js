(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[19],{214:function(t,e,n){"use strict";n(217);var i=n(70),a=n.n(i),c=n(210),r="";r="http://localhost:3000";var s=n.n(c).a.create({baseURL:r,timeout:12e3,withCredentials:!0});s.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),s.interceptors.response.use((function(t){return 200!==t.status&&(a.a.destroy(),a.a.error("\u7cfb\u7edf\u9519\u8bef")),t}),(function(t){return-1!==t.message.search("timeout")?t.message="\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u4fdd\u6301\u826f\u597d\u7684\u7f51\u7edc\u73af\u5883\u3002":t.message="\u7cfb\u7edf\u8bf7\u6c42\u5f02\u5e38",a.a.destroy(),a.a.error(t.message),Promise.reject(t)}));var o={homeApi:{getSearchSuggest:function(t,e){return s.get("/search/suggest",{params:{keywords:t,type:e}})},getSearch:function(t){return s.get("/cloudsearch",{params:t})},banner:function(){return s.get("/banner")},hotRecommend:function(t){return s.get("/personalized?limit=".concat(t))},recommendPlaylist:function(t){return s.get("/personalized?limit=".concat(t))},newDisk:function(){return s.get("/album/newest")},getAllNewDisk:function(t){return s.get("/album/new",{params:t})},getLyric:function(t){return s.get("/lyric?id=".concat(t))},getArtistList:function(t){return s.get("/artist/list",{params:t})},getPlaylistCateList:function(){return s.get("/playlist/catlist")},getTopPlayList:function(t){return s.get("/top/playlist",{params:t})},getPlaylistDetail:function(t){return s.get("/playlist/detail",{params:t})},getAlbumInfo:function(t){return s.get("/album?id=".concat(t))},getTopList:function(){return s.get("/toplist")},getSongUrl:function(t){return s.get("/song/url?id=".concat(t))}},loginApi:{phoneLogin:function(t){return s.post("/login/cellphone",t)},emailLogin:function(t){return s.post("/login",t)},generateQrKey:function(){return s.get("/login/qr/key?timestamp=".concat(Date.now()))},generateQrCode:function(t){return s.get("/login/qr/create?timestamp=".concat(Date.now()),{params:t})},checkQrStatus:function(t){return s.get("/login/qr/check?timestamp=".concat(Date.now()),{params:t})},getLoginStatus:function(){return s.get("/login/status?timestamp=".concat(Date.now()))},logout:function(){return s.get("/logout")}},userApi:{getUserDetail:function(t){return s.get("/user/detail?uid=".concat(t))},getUserInfoCount:function(){return s.get("/user/subcount")},getUserSongList:function(t){return s.get("/user/playlist",{params:t})},getUserRecord:function(t){return s.get("/user/record",{params:t})}},videoApi:{getMVDetail:function(t){return s.get("/mv/detail?mvid=".concat(t))},getMVUrl:function(t){return s.get("/mv/url",{params:t})}}};e.a=o},215:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(75),a=function(t){return{type:i.a,payload:t}}},216:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return r}));var i=n(47),a=function(){return{type:i.a}},c=function(){return{type:i.b}},r=function(){return{type:i.c}}},218:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return l}));var i=n(214),a=n(215),c=n(35),r=function(t){return{type:c.a,payload:t}},s=function(t){return{type:c.c,payload:t}},o=function(){return{type:c.b}},u=function(t){return{type:c.d,payload:t}},l=function(t,e){return function(n){i.a.homeApi.getPlaylistDetail({id:t}).then((function(t){if(200===t.data.code){var i,c=(null===(i=t.data.playlist)||void 0===i?void 0:i.tracks)||[];n(u(c)),c.length&&(n(Object(a.a)(c[0])),e&&e(c))}})).catch((function(){}))}}},261:function(t,e,n){"use strict";var i=n(369),a=n(0),c=n(219),r=n.n(c),s=n(41),o=n(8),u=n(214),l=n(215),d=n(216),m=n(218),f=n(262),p=n.n(f),g=n(9),j={small:100,middle:130,large:177},b=function(t){var e,n,a,c,s=t.item,o=t.size,f=t.showText,b=function(e){return t.history.push("/discover/album-detail/".concat(e))},h=function(e){return t.history.push("/discover/artist-detail/".concat(e))};return Object(g.jsxs)("div",{className:[p.a.DiskItem,p.a[o]].join(" "),children:[Object(g.jsx)("div",{className:"img",children:Object(g.jsxs)("div",{className:"img-wrapper",children:[Object(g.jsx)(r.a,{height:j[o],children:Object(g.jsx)("img",{src:s.picUrl+"?param=".concat(j[o],"y").concat(j[o]),title:s.name,alt:"",onClick:function(){return b(s.id)}})}),Object(g.jsx)("div",{className:"play-btn-wrapper",children:Object(g.jsx)(i.a,{className:"play-btn",onClick:function(){(null===s||void 0===s?void 0:s.id)&&u.a.homeApi.getAlbumInfo(s.id).then((function(e){if(200===e.data.code){var n,i=(null===(n=e.data)||void 0===n?void 0:n.songs)||[];if(!(null===i||void 0===i?void 0:i.length))return;t.dispatch(Object(m.d)(i)),t.dispatch(Object(l.a)(i[0])),t.dispatch(Object(d.b)())}})).catch((function(){}))}})})]})}),f?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{className:"song-name ellipsis-1",onClick:function(){return b(s.id)},children:s.name}),Object(g.jsxs)("p",{className:"author",children:[Object(g.jsx)("span",{onClick:function(){return h(s.artists[0].id)},children:null===(e=s.artists[0])||void 0===e?void 0:e.name})," ",(null===(n=s.artists)||void 0===n?void 0:n.length)>=2?"/":""," ",(null===(a=s.artists[1])||void 0===a?void 0:a.name)?Object(g.jsx)("span",{onClick:function(){return h(s.artists[1].id)},children:s.artists[1].name}):""," ",(null===(c=s.artists[2])||void 0===c?void 0:c.name)?"...":""]})]}):null]})};b.defaultProps={size:"small",showText:!0},e.a=Object(s.connect)()(Object(a.memo)(Object(o.f)(b)))},262:function(t,e,n){t.exports={DiskItem:"DiskItem_DiskItem__HzWv3",small:"DiskItem_small__127Jr",middle:"DiskItem_middle__2Q79r",large:"DiskItem_large__3K5nL"}},545:function(t,e,n){t.exports={Album:"Album_Album__3KQk_",all:"Album_all__eTl22",pagination:"Album_pagination__Si9Gc"}},580:function(t,e,n){"use strict";n.r(e);n(259);var i=n(263),a=n.n(i),c=(n(113),n(78)),r=n.n(c),s=n(71),o=n(261),u=n(0),l=n(214),d=n(30),m=n(545),f=n.n(m),p=n(9);e.default=function(){var t=Object(u.useState)([]),e=Object(s.a)(t,2),n=e[0],i=e[1],c=Object(u.useState)([]),m=Object(s.a)(c,2),g=m[0],j=m[1],b=Object(u.useState)("ALL"),h=Object(s.a)(b,2),v=h[0],O=h[1],y=Object(u.useState)(35),x=Object(s.a)(y,2),k=x[0],w=x[1],N=Object(u.useState)(1),A=Object(s.a)(N,2),_=A[0],D=A[1],S=Object(u.useState)(0),L=Object(s.a)(S,2),z=L[0],C=L[1],I=Object(u.useState)(!1),P=Object(s.a)(I,2),U=P[0],Q=P[1];Object(u.useEffect)((function(){l.a.homeApi.newDisk().then((function(t){if(200===t.data.code){var e,n=(null===(e=t.data)||void 0===e?void 0:e.albums)||[];i(n.slice(0,10))}})).catch((function(){}))}),[]),Object(u.useEffect)((function(){Q(!0),l.a.homeApi.getAllNewDisk({area:v,limit:k,offset:(_-1)*k}).then((function(t){if(200===t.data.code){var e=t.data||{},n=e.total,i=e.albums;C(n),j(i||[]),Q(!1)}})).catch((function(){}))}),[v,_,k]);return Object(p.jsxs)("div",{className:"".concat(f.a.Album," w980"),children:[Object(p.jsxs)("div",{className:f.a.hot,children:[Object(p.jsx)("div",{className:"title common-title",children:Object(p.jsx)("span",{className:"fz-24",children:"\u70ed\u95e8\u65b0\u789f"})}),Object(p.jsx)("div",{className:"content",children:n.map((function(t,e){return Object(p.jsx)("div",{className:"disk-item",children:Object(p.jsx)(o.a,{item:t,size:"middle"})},e)}))})]}),Object(p.jsxs)("div",{className:f.a.all,children:[Object(p.jsxs)("div",{className:"title common-title",children:[Object(p.jsx)("span",{className:"fz-24",children:"\u5168\u90e8\u65b0\u789f"}),Object(p.jsx)("div",{className:"tabs",children:Object.keys(d.a.diskAreaEnum).map((function(t){var e=t;return Object(p.jsx)("div",{className:["tabs-item",v===e?"active":""].join(" "),onClick:function(){O(e),D(1)},children:d.a.diskAreaEnum[e]},e)}))})]}),Object(p.jsx)(r.a,{spinning:U,children:Object(p.jsx)("div",{className:"content all-list-content",children:g.map((function(t,e){return Object(p.jsx)("div",{className:"disk-item",children:Object(p.jsx)(o.a,{item:t,size:"middle"})},e)}))})}),Object(p.jsx)("div",{className:f.a.pagination,children:Object(p.jsx)(a.a,{total:z,pageSize:k,pageSizeOptions:["10","15","20","25","30","35"],showSizeChanger:!0,showQuickJumper:!0,current:_,onChange:function(t,e){D(t),e&&w(e),window.scrollTo(0,580)}})})]})]})}}}]);