(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[17],{214:function(t,e,n){"use strict";n(217);var r=n(70),i=n.n(r),a=n(210),o="";o="http://localhost:3000";var c=n.n(a).a.create({baseURL:o,timeout:12e3,withCredentials:!0});c.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),c.interceptors.response.use((function(t){return 200!==t.status&&(i.a.destroy(),i.a.error("\u7cfb\u7edf\u9519\u8bef")),t}),(function(t){return-1!==t.message.search("timeout")?t.message="\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u4fdd\u6301\u826f\u597d\u7684\u7f51\u7edc\u73af\u5883\u3002":t.message="\u7cfb\u7edf\u8bf7\u6c42\u5f02\u5e38",i.a.destroy(),i.a.error(t.message),Promise.reject(t)}));var s={homeApi:{getSearchSuggest:function(t,e){return c.get("/search/suggest",{params:{keywords:t,type:e}})},getSearch:function(t){return c.get("/cloudsearch",{params:t})},banner:function(){return c.get("/banner")},hotRecommend:function(t){return c.get("/personalized?limit=".concat(t))},recommendPlaylist:function(t){return c.get("/personalized?limit=".concat(t))},newDisk:function(){return c.get("/album/newest")},getAllNewDisk:function(t){return c.get("/album/new",{params:t})},getLyric:function(t){return c.get("/lyric?id=".concat(t))},getArtistList:function(t){return c.get("/artist/list",{params:t})},getPlaylistCateList:function(){return c.get("/playlist/catlist")},getTopPlayList:function(t){return c.get("/top/playlist",{params:t})},getPlaylistDetail:function(t){return c.get("/playlist/detail",{params:t})},getAlbumInfo:function(t){return c.get("/album?id=".concat(t))},getTopList:function(){return c.get("/toplist")},getSongUrl:function(t){return c.get("/song/url?id=".concat(t))}},loginApi:{phoneLogin:function(t){return c.post("/login/cellphone",t)},emailLogin:function(t){return c.post("/login",t)},generateQrKey:function(){return c.get("/login/qr/key?timestamp=".concat(Date.now()))},generateQrCode:function(t){return c.get("/login/qr/create?timestamp=".concat(Date.now()),{params:t})},checkQrStatus:function(t){return c.get("/login/qr/check?timestamp=".concat(Date.now()),{params:t})},getLoginStatus:function(){return c.get("/login/status?timestamp=".concat(Date.now()))},logout:function(){return c.get("/logout")}},userApi:{getUserDetail:function(t){return c.get("/user/detail?uid=".concat(t))},getUserInfoCount:function(){return c.get("/user/subcount")},getUserSongList:function(t){return c.get("/user/playlist",{params:t})},getUserRecord:function(t){return c.get("/user/record",{params:t})}},videoApi:{getMVDetail:function(t){return c.get("/mv/detail?mvid=".concat(t))},getMVUrl:function(t){return c.get("/mv/url",{params:t})}}};e.a=s},215:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(75),i=function(t){return{type:r.a,payload:t}}},216:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));var r=n(47),i=function(){return{type:r.a}},a=function(){return{type:r.b}},o=function(){return{type:r.c}}},218:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return l}));var r=n(214),i=n(215),a=n(35),o=function(t){return{type:a.a,payload:t}},c=function(t){return{type:a.c,payload:t}},s=function(){return{type:a.b}},u=function(t){return{type:a.d,payload:t}},l=function(t,e){return function(n){r.a.homeApi.getPlaylistDetail({id:t}).then((function(t){if(200===t.data.code){var r,a=(null===(r=t.data.playlist)||void 0===r?void 0:r.tracks)||[];n(u(a)),a.length&&(n(Object(i.a)(a[0])),e&&e(a))}})).catch((function(){}))}}},289:function(t,e,n){"use strict";var r=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},a=n(68),o=function(t,e){return r.createElement(a.a,Object.assign({},t,{ref:e,icon:i}))};o.displayName="PlusOutlined";e.a=r.forwardRef(o)},328:function(t,e,n){t.exports={RecordListItem:"RecordListItem_RecordListItem__U1qYD",plusBtn:"RecordListItem_plusBtn__2NN-6",rank:"RecordListItem_rank__2xOEU",playBtn:"RecordListItem_playBtn__1UuIg",songInfo:"RecordListItem_songInfo__1LskN",songName:"RecordListItem_songName__1dnKk",author:"RecordListItem_author__1L28s",count:"RecordListItem_count__356J1",blueBar:"RecordListItem_blueBar__1IkyG"}},329:function(t,e,n){t.exports={RecordList:"RecordList_RecordList__1USM5",recordListTitle:"RecordList_recordListTitle__23DIi",recordListMore:"RecordList_recordListMore__1C39M"}},336:function(t,e,n){"use strict";n(113);var r=n(78),i=n.n(r),a=(n(251),n(229)),o=n.n(a),c=(n(217),n(70)),s=n.n(c),u=n(71),l=n(369),d=n(289),f=n(0),g=n(41),p=n(8),m=n(215),v=n(216),h=n(218),j=n(328),b=n.n(j),y=n(9),O=function(t){var e,n,r,i,a=t.style,o=t.item,c=t.index,s=t.history;return Object(y.jsxs)("div",{className:b.a.RecordListItem,style:a,children:[Object(y.jsxs)("div",{className:b.a.rank,children:[c,". "]}),Object(y.jsx)(l.a,{title:"\u64ad\u653e\u5f53\u524d\u6b4c\u66f2",className:b.a.playBtn,style:{marginLeft:15},onClick:function(){(null===o||void 0===o?void 0:o.song)&&(t.dispatch(Object(h.a)(o.song)),t.dispatch(Object(m.a)(o.song)),t.dispatch(Object(v.b)()))}}),Object(y.jsxs)("div",{className:b.a.songInfo,children:[Object(y.jsx)("strong",{className:b.a.songName,onClick:function(){return function(t){var e,n=null===t||void 0===t||null===(e=t.song)||void 0===e?void 0:e.id;n&&s.push("/discover/song/".concat(n))}(o)},children:null===o||void 0===o||null===(e=o.song)||void 0===e?void 0:e.name}),Object(y.jsx)("span",{children:" - "}),Object(y.jsx)("span",{onClick:function(){return function(t){var e,n,r=null===t||void 0===t||null===(e=t.song)||void 0===e||null===(n=e.ar[0])||void 0===n?void 0:n.id;r&&s.push("/discover/artist-detail/".concat(r))}(o)},className:b.a.author,children:null===o||void 0===o||null===(n=o.song)||void 0===n||null===(r=n.ar)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.name}),Object(y.jsx)(d.a,{title:"\u6dfb\u52a0\u6b4c\u66f2\u5230\u6b4c\u5355",className:[b.a.playBtn,b.a.plusBtn].join(" "),style:{marginLeft:15},onClick:function(){(null===o||void 0===o?void 0:o.song)&&t.dispatch(Object(h.a)(o.song))}})]}),Object(y.jsxs)("div",{className:b.a.count,children:[Object(y.jsxs)("span",{children:[null===o||void 0===o?void 0:o.playCount,"\u6b21"]}),Object(y.jsx)("div",{className:b.a.blueBar,style:{width:(null===o||void 0===o?void 0:o.score)+"%"}})]})]})};O.defaultProps={};var L=Object(g.connect)()(Object(f.memo)(Object(p.f)(O))),_=n(214),x=n(329),I=n.n(x),N=function(t){var e,n,r=t.showMoreBtn,a=t.showAll,c=Object(f.useState)([]),l=Object(u.a)(c,2),d=l[0],g=l[1],p=Object(f.useState)(1),m=Object(u.a)(p,2),v=m[0],h=m[1],j=Object(f.useState)(!1),b=Object(u.a)(j,2),O=b[0],x=b[1];Object(f.useEffect)((function(){var e,n=Number(null===(e=t.match.params)||void 0===e?void 0:e.userId);n&&(x(!0),_.a.userApi.getUserRecord({uid:n,type:v}).then((function(t){if(200===t.data.code){var e=t.data||{},n=e.weekData,r=e.allData,i=1===v?n:r;g(a?i||[]:(null===i||void 0===i?void 0:i.slice(0,10))||[]),x(!1)}else s.a.error("\u65e0\u6743\u9650\u8bbf\u95ee"),x(!1)})).catch((function(){x(!1)})))}),[null===(e=t.match.params)||void 0===e?void 0:e.userId,a,v]);var N=Object(f.useCallback)((function(){var e,n=null===(e=t.match.params)||void 0===e?void 0:e.userId;n&&t.history.push("/user/record-list-detail/".concat(n))}),[t.history,null===(n=t.match.params)||void 0===n?void 0:n.userId]);return(null===d||void 0===d?void 0:d.length)?Object(y.jsxs)("div",{className:I.a.RecordList,children:[Object(y.jsxs)("div",{className:I.a.recordListTitle,children:[Object(y.jsx)("span",{className:"text",children:"\u542c\u6b4c\u6392\u884c"}),Object(y.jsxs)(o.a,{value:v,bordered:!1,onChange:function(t){return h(t)},children:[Object(y.jsx)(o.a.Option,{value:1,children:"\u6700\u8fd1\u4e00\u5468"}),Object(y.jsx)(o.a.Option,{value:0,children:"\u6240\u6709\u65f6\u95f4"})]})]}),Object(y.jsx)("div",{className:I.a.recordListWrapper,children:Object(y.jsx)(i.a,{spinning:O,children:d.map((function(t,e){var n;return Object(y.jsx)(L,{style:{backgroundColor:e%2?"#f7f7f7":""},item:t,index:e+1},(null===t||void 0===t||null===(n=t.song)||void 0===n?void 0:n.id)||e)}))})}),r?Object(y.jsx)("div",{className:I.a.recordListMore,children:Object(y.jsxs)("span",{onClick:N,children:["\u67e5\u770b\u66f4\u591a",">"]})}):null]}):null};N.defaultProps={showAll:!1,showMoreBtn:!1};e.a=Object(f.memo)(Object(p.f)(N))},529:function(t,e,n){},575:function(t,e,n){"use strict";n.r(e);n(0);var r=n(336),i=n(529),a=n.n(i),o=n(9),c=function(t){return Object(o.jsx)("div",{className:a.a.RecordListDetail,children:Object(o.jsx)(r.a,{showAll:!0})})};c.defaultProps={},e.default=c}}]);